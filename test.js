// ===================== Блоки с вопросами =====================
const blocks = [
  {
    name: "Архетип",
    questions: [
      {
        text: "1. Что для тебя важнее всего в жизни?",
        answers: [
          { text: "Создавать новое и уникальное", type: "Создатель" },
          { text: "Изучать и понимать неизведанное", type: "Исследователь" },
          { text: "Вести людей за собой", type: "Лидер" },
          { text: "Помогать и поддерживать других", type: "Помощник" },
          { text: "Придумывать инновации и улучшения", type: "Инноватор" },
          { text: "Делать конкретное дело и доводить до результата", type: "Практик" },
          { text: "Общаться и вдохновлять людей", type: "Коммуникатор" },
          { text: "Планировать и строить стратегии", type: "Стратег" },
          { text: "Видеть красоту и гармонию в мире", type: "Эстет" },
          { text: "Исцелять и восстанавливать", type: "Исцелитель" }
        ]
      },
      {
        text: "2. Когда ты сталкиваешься с проблемой, твоя первая реакция?",
        answers: [
           { text: "Придумать креативное решение", type: "Создатель" },
           { text: "Начать искать факты и информацию", type: "Исследователь" },
           { text: "Взять ответственность и организовать других", type: "Лидер" },
           { text: "Поддержать окружающих и предложить помощь", type: "Помощник" },
           { text: "Придумать новый подход, которого ещё не было", type: "Инноватор" },
           { text: "Сделать руками и попробовать самому", type: "Практик" },
           { text: "Обсудить с друзьями и услышать мнения", type: "Коммуникатор" },
           { text: "Разработать план действий", type: "Стратег" },
           { text: "Найти эстетичное, красивое решение", type: "Эстет" },
           { text: "Подумать, как исправить и улучшить состояние", type: "Исцелитель" }
        ]
      },
      {
        text: "3. Тебе приятнее всего, когда люди говорят о тебе?",
        answers: [
           { text: "Ты очень талантливый", type: "Создатель" },
           { text: "Ты знаешь так много интересного", type: "Исследователь" },
           { text: "Ты настоящий лидер", type: "Лидер" },
           { text: "Ты добрый и заботливый", type: "Помощник" },
           { text: "Ты умеешь придумывать новое", type: "Инноватор" },
           { text: "Ты такой надёжный и практичный", type: "Практик" },
           { text: "Ты душа компании", type: "Коммуникатор" },
           { text: "Ты стратег и дальновидный", type: "Стратег" },
           { text: "Ты тонко чувствуешь красоту", type: "Эстет" },
           { text: "Ты умеешь исцелять и поддерживать", type: "Исцелитель" }
        ]
      },
      {
        text: "4. В свободное время тебе больше всего нравится?",
        answers: [
           { text: "Рисовать, писать, сочинять", type: "Создатель" },
           { text: "Читать и узнавать новое", type: "Исследователь" },
           { text: "Организовывать мероприятия", type: "Лидер" },
           { text: "Волонтёрить, помогать близким", type: "Помощник" },
           { text: "Придумывать гаджеты или идеи проектов", type: "Инноватор" },
           { text: "Заниматься рукоделием, ремеслом", type: "Практик" },
           { text: "Общаться, шутить, знакомиться", type: "Коммуникатор" },
           { text: "Играть в игры на логику или стратегию", type: "Стратег" },
           { text: "Посещать музеи, выставки, концерты", type: "Эстет" },
           { text: "Медитировать, гулять на природе, заботиться о здоровье", type: "Исцелитель" }
        ]
      },
      {
        text: "5. Какую роль ты чаще всего берёшь в команде?",
        answers: [
           { text: "Генератор идей", type: "Создатель" },
           { text: "Аналитик и исследователь", type: "Исследователь" },
           { text: "Лидер-организатор", type: "Лидер" },
           { text: "Поддержка и «жилетка» для других", type: "Помощник" },
           { text: "Инноватор, предлагающий новое", type: "Инноватор" },
           { text: "Исполнитель, делающий всё руками", type: "Практик" },
           { text: "Мотиватор, который всех объединяет", type: "Коммуникатор" },
           { text: "Стратег, планирующий шаги", type: "Стратег" },
           { text: "Эстет, делающий проект красивым", type: "Эстет" },
           { text: "Гармонизатор, следящий за атмосферой", type: "Исцелитель" }
        ]
      },
      {
        text: "6. Что приносит тебе наибольшее удовлетворение?",
        answers: [
           { text: "Создать что-то, чего раньше не было", type: "Создатель" },
           { text: "Добыть новую информацию или факт", type: "Исследователь" },
           { text: "Видеть, как другие идут за тобой", type: "Лидер" },
           { text: "Помогать и получать благодарность", type: "Помощник" },
           { text: "Изобрести решение, которое работает", type: "Инноватор" },
           { text: "Сделать дело до конца своими руками", type: "Практик" },
           { text: "Почувствовать себя в центре внимания", type: "Коммуникатор" },
           { text: "Построить план, который сработал", type: "Стратег" },
           { text: "Сделать что-то красивое и вдохновляющее", type: "Эстет" },
           { text: "Видеть, как кто-то выздоравливает или становится лучше", type: "Исцелитель" }
        ]
      },
      {
        text: "7. Как ты обычно принимаешь решения?",
        answers: [
           { text: "Через вдохновение и воображение", type: "Создатель" },
           { text: "Через факты и анализ", type: "Исследователь" },
           { text: "Через лидерскую позицию и ответственность", type: "Лидер" },
           { text: "Через заботу о других", type: "Помощник" },
           { text: "Через поиск новых вариантов", type: "Инноватор" },
           { text: "Через практический опыт", type: "Практик" },
           { text: "Через общение и обсуждение", type: "Коммуникатор" },
           { text: "Через стратегический расчёт", type: "Стратег" },
           { text: "Через чувство гармонии", type: "Эстет" },
           { text: "Через поиск внутреннего баланса", type: "Исцелитель" }
        ]
      },
      {
        text: "8. Как ты обычно принимаешь решения?",
        answers: [
           { text: "Через вдохновение и воображение", type: "Создатель" },
           { text: "Через факты и анализ", type: "Исследователь" },
           { text: "Через лидерскую позицию и ответственность", type: "Лидер" },
           { text: "Через заботу о других", type: "Помощник" },
           { text: "Через поиск новых вариантов", type: "Инноватор" },
           { text: "Через практический опыт", type: "Практик" },
           { text: "Через общение и обсуждение", type: "Коммуникатор" },
           { text: "Через стратегический расчёт", type: "Стратег" },
           { text: "Через чувство гармонии", type: "Эстет" },
           { text: "Через поиск внутреннего баланса", type: "Исцелитель" }
        ]
      },
      {
        text: "9. Какая фраза ближе тебе?",
        answers: [
           { text: "Мир нужно наполнить красотой", type: "Создатель" },
           { text: "Всё нужно проверить фактами", type: "Исследователь" },
           { text: "Я поведу вас к цели", type: "Лидер" },
           { text: "Важно быть рядом и помогать", type: "Помощник" },
           { text: "Всегда есть лучший способ", type: "Инноватор" },
           { text: "Сделай сам и сделай хорошо", type: "Практик" },
           { text: "Главное — люди рядом", type: "Коммуникатор" },
           { text: "Без стратегии победы не будет", type: "Стратег" },
           { text: "Красота спасёт мир", type: "Эстет" },
           { text: "Здоровье и гармония — основа жизни", type: "Исцелитель" }
        ]
      },
      {
        text: "10. Какую похвалу ты ценишь больше всего?",
        answers: [
           { text: "Ты творец!", type: "Создатель" },
           { text: "Ты настоящий учёный", type: "Исследователь" },
           { text: "Ты прирождённый лидер", type: "Лидер" },
           { text: "Ты самый заботливый", type: "Помощник" },
           { text: "Ты изобретатель", type: "Инноватор" },
           { text: "Ты мастер на все руки", type: "Практик" },
           { text: "Ты лучший собеседник", type: "Коммуникатор" },
           { text: "Ты мудрый стратег", type: "Стратег" },
           { text: "Ты человек с отличным вкусом", type: "Эстет" },
           { text: "Ты лечишь душу и тело", type: "Исцелитель" }
        ]
      }
    ]
  },
  {
    name: "Характер",
    questions: [
      {
        text: "Как ты реагируешь на трудности?",
        answers: [
          { text: "Энергично и активно", type: "Энергичный" },
          { text: "Сохраняю спокойствие", type: "Спокойный" }
        ]
      }
    ]
  }
  // сюда потом добавишь остальные блоки: Темперамент, Интеллект, Интерес, Ценности, Образ жизни
];

// ===================== Счётчики =====================
let scores = {};

// ===================== Результаты =====================
const results = {
  "Создатель": "Ты творческий человек 🌸",
  "Исследователь": "Ты любишь узнавать новое 🔎",
  "Лидер": "У тебя лидерские качества 🎯",
  "Помощник": "Ты умеешь поддерживать других 🤝",
  "Инноватор": "Ты ищешь новое и необычное 💡",
  "Практик": "Ты ценишь реальные дела и результат 🔧",
  "Коммуникатор": "Ты легко находишь общий язык с людьми 💬",
  "Стратег": "Ты умеешь планировать и видеть наперёд 📈",
  "Эстет": "Ты ценишь красоту и гармонию 🎨",
  "Исцелитель": "Ты стремишься исцелять и помогать 💖",
  "Энергичный": "Ты действуешь быстро и энергично ⚡",
  "Спокойный": "Ты уравновешен и гармоничен ☯"
};

// ===================== Рендер вопросов =====================
function renderQuestions() {
  const container = document.getElementById("test-container");
  container.innerHTML = ""; // очищаем

  blocks.forEach(block => {
    // Заголовок блока
    const blockTitle = document.createElement("h2");
    blockTitle.textContent = block.name;
    container.appendChild(blockTitle);

    // Вопросы внутри блока
    block.questions.forEach(q => {
      const div = document.createElement("div");
      div.classList.add("question");

      const qTitle = document.createElement("h3");
      qTitle.textContent = q.text;
      div.appendChild(qTitle);

      // Ответы
      q.answers.forEach(ans => {
        const btn = document.createElement("button");
        btn.textContent = ans.text;
        btn.classList.add("link-btn");

        btn.onclick = () => {
          // Убираем подсветку со всех кнопок этого вопроса
          div.querySelectorAll("button").forEach(b => b.classList.remove("selected"));

          // Подсвечиваем выбранную кнопку
          btn.classList.add("selected");

          // Записываем результат
          scores[ans.type] = (scores[ans.type] || 0) + 1;
        };

        div.appendChild(btn);
      });

      container.appendChild(div);
    });
  });
}

// ===================== Подсчёт результата =====================
function showResult() {
  let maxType = null, maxScore = -1;
  for (let type in scores) {
    if (scores[type] > maxScore) {
      maxScore = scores[type];
      maxType = type;
    }
  }
  const res = results[maxType] || "Результат пока не определён.";
  document.getElementById("result").innerHTML = `<h2>${res}</h2>`;
}

// ===================== Запуск =====================
document.addEventListener("DOMContentLoaded", () => {
  renderQuestions();
  document.getElementById("submit-btn").addEventListener("click", showResult);
});



